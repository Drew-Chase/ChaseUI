async function openPopup(name,data={},onclose=()=>{}){const html=await $.get(`${name}.html`);name=name.replace(/[^a-zA-Z]/g,"");let popup=$(`<div class='popup' id="${name}-popup">`);popup.on("close",onclose);const popupContent=$(`<div class='popup-content'>${html}</div>`);popupContent.append(`<button class="close"><i class="fa fa-close"></i></button>`);const bg=$('<div class="close popup-bg"></div>');bg.on("click",()=>{closePopup(name)});popup.append(bg);popup.append(popupContent);popup.appendTo("body");setTimeout(()=>{popup.addClass("active");popup.find(".close").on("click",()=>{closePopup(name)})},100);setTimeout(()=>{$(document).trigger("loadPopup",{data:data})},100);return popup}function closePopup(name){const popup=$(`#${name}-popup.popup.active`);popup.removeClass("active");popup.trigger("close");setTimeout(()=>{popup.remove()},300)}function alert(message,onclose=null,onOk=null){let popup=$(`<div id="alert-popup" class='popup'>`);const popupContent=$(`<div class='popup-content'>`);popupContent.append(`<h1>Alert</h1>`);popupContent.append(`<p>${message}</p>`);const buttons=$(`<div class="row">`);if(onOk){const okButton=$(`<button class="primary fill">OK</button>`);buttons.append(okButton);okButton.on("click",()=>{closePopup("alert");onOk()})}const closeButton=$(`<button class="fill">${onOk===null?"Close":"Cancel"}</button>`);buttons.append(closeButton);closeButton.on("click",()=>{closePopup("alert");if(onclose){onclose()}});const bg=$('<div class="close popup-bg"></div>');popup.append(popupContent);popup.append(bg);popupContent.append(buttons);popup.appendTo("body");setTimeout(()=>{popup.addClass("active");popup.find(".close").on("click",()=>{closePopup("alert");if(onclose){onclose()}})},100)}function confirm(message,yes="Yes",no="No",submit=null){let popup=$(`<div id="confirm-popup" class='popup'>`);const popupContent=$(`<div class='popup-content'>`);popupContent.append(`<h1>Confirm</h1>`);popupContent.append(`<p>${message}</p>`);const buttons=$(`<div class="row">`);const okButton=$(`<button class="primary fill">${yes}</button>`);buttons.append(okButton);okButton.on("click",()=>{closePopup("confirm");if(submit){submit(true)}});const closeButton=$(`<button class="fill">${no}</button>`);closeButton.on("click",()=>{closePopup("confirm");if(submit){submit(false)}});buttons.append(closeButton);const bg=$('<div class="close popup-bg"></div>');popup.append(popupContent);popup.append(bg);popupContent.append(buttons);popup.appendTo("body");setTimeout(()=>{popup.addClass("active");popup.find(".close").on("click",()=>{closePopup("confirm");if(submit){submit(false)}})},100)}export{openPopup,closePopup,alert,confirm};