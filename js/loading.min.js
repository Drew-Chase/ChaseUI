let defaultOptions={message:"",fullscreen:true,size:"100px",font:"2rem",color:"white",speed:"1s"};function startLoading(options=defaultOptions){options=populateMissingWithDefaultOptions(options);if($("link[href='assets/css/loading.css']").length===0)$("head").append($("<link rel='stylesheet' href='assets/css/loading.css'>"));if($(".loading").length>0)return;const loading=$(`<div class="loading"><p class="message">${options.message}</p></div>`);if(options.fullscreen)loading.addClass("fullscreen");loading.prop({style:`--size: ${options.size}; --color: ${options.color}; --speed: ${options.speed}; --font: ${options.font}`});$("body").append(loading)}function updateLoadingOptions(options){options=populateMissingWithDefaultOptions(options);const loading=$(".loading");loading.prop({style:`--size: ${options.size}; --color: ${options.color}; --speed: ${options.speed}; --font: ${options.font}`});loading.html(`<p class="message">${options.message}</p>`);if(options.fullscreen)loading.addClass("fullscreen");else loading.removeClass("fullscreen")}function startLoadingForDuration(options,duration,callback=null){startLoading(options);const originalMessage=options.message;const update=()=>{options.message=originalMessage.replace(/%duration%/g,duration.toString());updateLoadingOptions(options);if(duration<=0){clearInterval(interval);stopLoading();if(callback!==null)callback()}console.log(`Updating: ${duration}`)};update();const interval=setInterval(()=>{duration--;update()},1e3)}function populateMissingWithDefaultOptions(options){options.size=options.size||defaultOptions.size;options.color=options.color||defaultOptions.color;options.speed=options.speed||defaultOptions.speed;options.font=options.font||defaultOptions.font;options.message=options.message||defaultOptions.message;options.fullscreen=options.fullscreen||defaultOptions.fullscreen;return options}function stopLoading(){$(".loading").remove()}export{startLoading,stopLoading,updateLoadingOptions,startLoadingForDuration};